{% extends "base.html" %}

{% block content %}
<h1>Create Your Daily Meal Plan</h1>
<form method="POST" action="{{ url_for('plan') }}">
    <label for="age">Age:</label>
    <input type="number" id="age" name="age" required>
    <br>

    <label for="height">Height (cm):</label>
    <input type="number" id="height" name="height" required>
    <br>

    <label for="weight">Weight (kg):</label>
    <input type="number" id="weight" name="weight" required>
    <br>

    <label for="gender">Gender:</label>
    <select id="gender" name="gender" required>
        <option value="male">Male</option>
        <option value="female">Female</option>
    </select>
    <br>

    <label for="goal">Goal:</label>
    <select id="goal" name="goal" required>
        <option value="lose">Lose Weight</option>
        <option value="gain">Gain Weight</option>
        <option value="maintain">Maintain Weight</option>
    </select>
    <br>

    <label for="activity_level">Activity Level (1-5):</label>
    <select id="activity_level" name="activity_level" required>
        <option value="1">Sedentary (little or no exercise)</option>
        <option value="2">Lightly active (light exercise/sports 1-3 days/week)</option>
        <option value="3">Moderately active (moderate exercise/sports 3-5 days/week)</option>
        <option value="4">Very active (hard exercise/sports 6-7 days/week)</option>
        <option value="5">Super active (very hard exercise/sports & physical job or 2x training)</option>
    </select>
    <br>

    <button type="submit">Generate Meal Plan</button>
</form>

{% if meal_details_list is defined %}
    <h2>Your Daily Meal Plan (Calories Target: {{ target_calories }} kcal)</h2>
    <ul>
        {% for meal, meal_name, calories in meal_details_list %}
        <li>{{ meal.capitalize() }} - {{ meal_name }}: {{ calories }} kcal</li>
        {% endfor %}
    </ul>
    <p>Total Calories: {{ total_calories }} kcal</p>
{% endif %}
{% endblock %}
